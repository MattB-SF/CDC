---
title: "CDC: Chiquitos Data Cube"
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval=F)
```

## Installation

You can install CDC from github with:

```{r gh-installation, eval = FALSE}
# Install remotes if not available
if(!"remotes" %in% installed.packages()[,"Package"]) install.packages("remotes")

# Install baVDC package from Github
remotes::install_github("MattB-SF/CDC", build_vignettes = T)
```

If package installation with `install_github()` fails, try this as an alternative:

```{r, eval=F}
tmp_zip <- tempfile(fileext = ".zip")
source_url <- "https://api.github.com/repos/MattB-SF/CDC/zipball/main"
utils::download.file(source_url, destfile=tmp_zip, method="wget")
file.exists(tmp_zip)

remotes::install_local(tmp_zip)
```

After installation, simply load the `bavDC` package:

```{r, message=FALSE}
library(CDC)
```

**If you encounter a bug or if you have any problems, please file an [issue](https://github.com/MattB-SF/CDC/issues) on Github.**

## Shiny app

You can start the CDC Shiny app, by:

```{r, eval=FALSE}
library(shiny)
runApp()
```

**Please note:** The app currently only supports the `alt_chi` dataset.

## Datasets

The individual datasets can then be loaded, by:

```{r, eval=F, echo=F}
# Elevation & Terrain (SRTM)
data("alt_chi")

# Outline of Chiquitos (GADM)
data("chiquitos")

# BioTime data for Bolivia
data("biotime_bol")

# BirdLife, IUCN and GARD range data
data("amphibians_bol")
data("bird_bol")
data("gard_reptiles_bol")
data("mammals_bol")
data("odonata_bol")
data("reptiles_bol")

# Carbon stock data
data("carbon_chi")

# CCI land cover data
data("cci_chi")

# Chelsa climate data
data("chelsa_chi")

# Corine land-cover and land cover change
data("corine_cha_chi") # Land-cover change
data("corine_cha_chi")
data("corine_cha_perc_chi")
data("corine_lc_chi") # Corine Land cover data at 100 x 100 m resolution
data("corine_lc_perc_chi") # Corine land cover percentage data at 1 x 1 km resolution

# Gridded population data for Bolivia at 1km resolution
data("bol_pop_1km")

# Diva shapefiles for Bolivia
data("diva_cover_bol") # Land-cover data
data("diva_pop_bol") # Population data
data("diva_rails_bol") # Railway tracks
data("diva_roads_bol") # Roads
data("diva_water_areas_bol") # Lakes
data("diva_water_lines_bol") # Rivers

# E-OBS observed climate data
data("e-obs_elev_ens_0.1deg_bav")
data("e-obs_rr_ens_mean_0.1deg_bav_yearmon")
data("e-obs_rr_ens_spread_0.1deg_bav_yearmon")
data("e-obs_tg_ens_mean_0.1deg_bav_yearmon")
data("e-obs_tg_ens_spread_0.1deg_bav_yearmon")
data("e-obs_tn_ens_mean_0.1deg_bav_yearmon")
data("e-obs_tn_ens_spread_0.1deg_bav_yearmon")
data("e-obs_tx_ens_mean_0.1deg_bav_yearmon")
data("e-obs_tx_ens_spread_0.1deg_bav_yearmon")

# DEM elevation & hillshade data
data("dem_chi_500m")
data("hillshade_chi_500m")

# EWEMBI daily temperature and precipitation
data("ewembi_chi")

# EWEMBI daily temperature and precipitation data for the whole of Bolivia can be extracted from the processNC package (https://github.com/RS-eco/CDC)

# List daily temperature files for Bolivia from 1979 till 2016
ewembi_tas_bol <- list.files(paste0(system.file(package="processNC"), "/extdata"), 
                    pattern="tas.*\\.nc", full.names=T)

# List daily precipitation files for Bolivia from 1979 till 2016
ewembi_pr_bol <- list.files(paste0(system.file(package="processNC"), "/extdata"), 
                    pattern="tas.*\\.nc", full.names=T)

# GIMMS3g NDVI data
data("gimms3g_v0_chi")
data("gimms3g_v1_chi")

# Globcover land cover
data("globcover_chi")

# Human footprint
data("hfp_1993_v3_chi")
data("hfp_2009_v3_chi")

# ISIMIP2b climate and land-use
data("isimip_bio_bol")
data("isimip_lu_bol")

# KK09, KK10 data
data("kk09_chi")
data("kk10_chi")

# Lakes & Rivers
data("lakes_points_chi")
data("lakes_poly_chi")
data("rivers_chi")

# MODIS land-cover
data("modis_lc_chi")

# MODIS Land surface temperature
data("modis_lst_chi")

# Protected areas
data("dist_pa_chi")
data("pa_chi")

# Predicts data
data("predicts_bol")

# Tandem-X Forest/Non-forest
data("tdm_fnf_chi")

# Worldclim v2.1
data("wc2.0_30s_chi")

# WFDE5 re-analysis climate data (0.5Â°)
data("wfde5_rainf_chi")
data("wfde5_snowf_chi")
data("wfde5_tair_chi")
```

**Note:** The code of how the datasets were created can be found in the [data-raw](https://github.com/MattB-SF/CDC/tree/main/data-raw) folder.
